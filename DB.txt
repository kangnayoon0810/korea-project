DROP DATABASE IF EXISTS HT_AM;
CREATE DATABASE HT_AM;
USE HT_AM;


CREATE TABLE board (
  id INT UNSIGNED PRIMARY KEY AUTO_INCREMENT
  , boardName VARCHAR(20) NOT NULL
);

CREATE TABLE `member` (
  id INT UNSIGNED PRIMARY KEY AUTO_INCREMENT
  , regDate DATETIME NOT NULL
  , updateDate DATETIME NOT NULL
  , `name` VARCHAR(50) NOT NULL
  , nickName VARCHAR(50) UNIQUE NOT NULL
  , phoneNumber INT UNSIGNED UNIQUE NOT NULL
  , loginId VARCHAR(50) UNIQUE NOT NULL
  , loginPw VARCHAR(100) NOT NULL
  , eMail VARCHAR(50) UNIQUE NOT NULL
  , authLevel INT UNSIGNED NOT NULL DEFAULT 1 COMMENT '관리자는 = 0, 회원 = 1'
);

CREATE TABLE trainer (
  id INT UNSIGNED PRIMARY KEY AUTO_INCREMENT
  , regDate DATETIME NOT NULL
  , updateDate DATETIME NOT NULL
  , `name` VARCHAR(50) NOT NULL
  , phoneNumber INT UNSIGNED UNIQUE NOT NULL
  , loginId VARCHAR(50) UNIQUE NOT NULL
  , loginPw VARCHAR(100) NOT NULL
  , eMail VARCHAR(50) UNIQUE NOT NULL
);

CREATE TABLE memberArticle (
  id INT UNSIGNED PRIMARY KEY AUTO_INCREMENT
  , boardId INT UNSIGNED NOT NULL
  , regDate DATETIME NOT NULL
  , updateDate DATETIME NOT NULL
  , memberId INT UNSIGNED NOT NULL
  , title VARCHAR(50) NOT NULL
  , content TEXT NOT NULL
  , viewCnt INT UNSIGNED NOT NULL DEFAULT 0
);

CREATE TABLE trainerArticle (
  id INT UNSIGNED PRIMARY KEY AUTO_INCREMENT
  , boardId INT UNSIGNED NOT NULL
  , regDate DATETIME NOT NULL
  , updateDate DATETIME NOT NULL
  , memberId INT UNSIGNED NOT NULL
  , title VARCHAR(50) NOT NULL
  , content TEXT NOT NULL
  , viewCnt INT UNSIGNED NOT NULL DEFAULT 0
);

CREATE TABLE `comment` (
  id INT UNSIGNED PRIMARY KEY AUTO_INCREMENT
  , regDate DATETIME NOT NULL
  , updateDate DATETIME NOT NULL
  , memberId INT UNSIGNED NOT NULL
  , relTypeCode VARCHAR(20) NOT NULL
  , relId INT UNSIGNED NOT NULL
  , content TEXT NOT NULL
);

CREATE TABLE likePoint (
  memberId INT UNSIGNED NOT NULL
  , relTypeCode VARCHAR(20) NOT NULL
  , relId INT UNSIGNED NOT NULL
);